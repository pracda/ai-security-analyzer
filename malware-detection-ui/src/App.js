import React, { useState } from 'react';
import FileUploader from './components/FileUploader';
import MetadataDisplay from './components/MetadataDisplay';
import VirusTotalResults from './components/VirusTotalResults';
import BedrockInsights from './components/BedrockInsights';

const App = () => {
    const [s3Key, setS3Key] = useState(null);
    const [fileHash, setFileHash] = useState(null);
    const [metadata, setMetadata] = useState(null);

    return (
        <div>
            <h1>Malware Detection System</h1>
            <FileUploader onUploadComplete={setS3Key} />
            {s3Key && <MetadataDisplay s3Key={s3Key} />}
            {metadata && <VirusTotalResults fileHash={metadata.fileHash} />}
            {metadata && <BedrockInsights metadata={metadata} />}
        </div>
    );
};

export default App;
